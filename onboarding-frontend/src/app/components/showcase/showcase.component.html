<div class="title">
  <mat-label>Purchase Order</mat-label>
</div>
<mat-error *ngIf="error">{{message}}</mat-error>
<mat-label *ngIf="isSave" class="success">{{message}}</mat-label>
<table mat-table [dataSource]="products" class="mat-elevation-z8">
  <ng-container matColumnDef="product">
    <th mat-header-cell *matHeaderCellDef colspan="2"> Product </th>
    <td mat-cell *matCellDef="let item" colspan="2"> {{item.product.code}} : {{item.product.name}} </td>
    <td mat-footer-cell *matFooterCellDef colspan="2"> Total </td>
  </ng-container>

  <ng-container matColumnDef="price">
    <th mat-header-cell *matHeaderCellDef> Unit Price </th>
    <td mat-cell *matCellDef="let item" class="text-right"> {{item.product.price}} </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <ng-container matColumnDef="quantity">
    <th mat-header-cell *matHeaderCellDef> Quantity </th>
    <td mat-cell *matCellDef="let item" class="text-right"> {{item.product.quantity}} </td>
    <td mat-footer-cell *matFooterCellDef> </td>
  </ng-container>

  <ng-container matColumnDef="total">
    <th mat-header-cell *matHeaderCellDef> Total </th>
    <td mat-cell *matCellDef="let item" class="text-right"> {{item.product.price * item.product.quantity}} </td>
    <td mat-footer-cell *matFooterCellDef class="text-right"> {{cartTotal}} </td>
  </ng-container>

  <ng-container matColumnDef="remove">
    <th mat-header-cell *matHeaderCellDef> Remove </th>
    <button mat-flat-button *matCellDef="let item" (click)="deleteProduct(item.product)">
      <mat-icon>remove_shopping_cart</mat-icon>
    </button>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <ng-container matColumnDef="disclaimer">
    <td mat-footer-cell *matFooterCellDef colspan="6" class="text-right">
      <button mat-raised-button mat-dialog-close>Close</button>
      <button mat-raised-button (click)="save()" [disabled]="isSave || products.length === 0">Save</button>
      <button mat-raised-button (click)="openDialogPayment()" [disabled]="!isSave">Payment</button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="columns" class="example-first-header-row">
  </tr>

  <tr mat-row *matRowDef="let row; columns: columns;"></tr>

  <tr mat-footer-row *matFooterRowDef="columns" class="example-first-footer-row"></tr>
  <tr mat-footer-row *matFooterRowDef="['disclaimer']" class="example-second-footer-row"></tr>
</table>